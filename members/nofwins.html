
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>대한민국 국회 본회의장</title>
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
		<script src="raphael.js" type="text/javascript" charset="utf-8"></script>
		<link rel="stylesheet" type="text/css" href="seats.css">
    </head>
    <body>
        <div id="canvas">
            <div id="paper"></div>
			<div id="container"></div>
			<a href="age.html">나이</a>	<a href="party.html">정당</a> <a href="region.html">지역</a>	<a href="sex.html">성별</a>
			<a href="./nofwins.html">당선횟수</a>
			<ul id="member_list"></ul>
        </div>
		<script type="text/javascript">
		var R = Raphael("paper", 600, 420); //300, 300

		window.aus = {};

		$.getJSON('paths.json', function (data) {
			$.each(data, function (key, val) {
				aus['m'+key] = R.path(val);
			});
			$.getJSON('hallcoloring.json', function (data) {
				window.members = data;

				$.each(data, function (i, member) {
					if (typeof aus['m'+i] != 'undefined') {
						aus['m'+i].node.setAttribute('class', 'nofwins'+member.nofwins);
					}
				});
				
				$.each(data, function (i, member) {
						var item = $('<li></li>').addClass(member.party);
						var name = $('<div></div>').addClass('name').text(member.name);
						item.append(name);
						$('#member_list').append(item);
				});

				$('.1 .name').css('background', '#2E9AFE');
				$('.2 .name').css('background', '#58FA58');
				$('.3 .name').css('background', '#F79F81');
				$('.4 .name').css('background', '#F7D358');
				$('.5 .name').css('background', '#D8F781');
				$('.6 .name').css('background', '#9FF781');
				$('.7 .name').css('background', '#9F81F7');
			});
		});
        </script>
    </body>
</html>
